<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Verdana<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;<br>
Hello&nbsp;Christoph&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;made&nbsp;more&nbsp;head&nbsp;way&nbsp;since&nbsp;that&nbsp;one&nbsp;(and&nbsp;made&nbsp;a&nbsp;lot&nbsp;more&nbsp;changes).&lt;/div&gt;&lt;div&gt;I&nbsp;found&nbsp;that&nbsp;the&nbsp;module&nbsp;creation&nbsp;required&nbsp;a&nbsp;few&nbsp;more&nbsp;steps&nbsp;and&nbsp;I&nbsp;have&nbsp;come&nbsp;up&amp;nbsp;&lt;/div&gt;&lt;div&gt;with&nbsp;two&nbsp;solutions&nbsp;(in&nbsp;attached&nbsp;patches):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;First&nbsp;patch&nbsp;follows&nbsp;most&nbsp;of&nbsp;the&nbsp;online&nbsp;info&nbsp;I&nbsp;could&nbsp;find&nbsp;related&nbsp;to&amp;nbsp;PyModuleDef&nbsp;and&nbsp;the&nbsp;related&amp;nbsp;PyTypeObject.&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;This&nbsp;required&nbsp;that&nbsp;all&nbsp;tp_getattr&nbsp;functions&nbsp;be&nbsp;removed&nbsp;and&nbsp;set&nbsp;to&nbsp;0&nbsp;(zero)&nbsp;in&nbsp;the&amp;nbsp;PyTypeObject&nbsp;definition.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2.&nbsp;The&nbsp;second&nbsp;patch&nbsp;retained&nbsp;the&nbsp;already&nbsp;created&nbsp;tp_getattr&nbsp;functions.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;With&nbsp;either&nbsp;applied&nbsp;I&nbsp;am&nbsp;able&nbsp;to&nbsp;compile&nbsp;but&nbsp;when&nbsp;running&nbsp;a&nbsp;test&nbsp;program&nbsp;with&nbsp;the&nbsp;following&nbsp;lines&nbsp;only:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#!/usr/bin/env&nbsp;python&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;from&nbsp;Crypto.Cipher&nbsp;import&nbsp;AES&lt;/div&gt;&lt;div&gt;import&nbsp;base64&lt;/div&gt;&lt;div&gt;import&nbsp;os&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;run&nbsp;I&nbsp;receive&nbsp;the&nbsp;following&nbsp;error:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&quot;./cypher.py&quot;,&nbsp;line&nbsp;3,&nbsp;in&nbsp;&amp;lt;module&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;from&nbsp;Crypto.Cipher&nbsp;import&nbsp;AES&lt;/div&gt;&lt;div&gt;SystemError:&nbsp;NULL&nbsp;result&nbsp;without&nbsp;error&nbsp;in&nbsp;PyObject_Call&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;apply&nbsp;patches&nbsp;(and&nbsp;make&nbsp;necessary&nbsp;changes&nbsp;for&nbsp;Windows)&nbsp;and&nbsp;we&nbsp;will&nbsp;see&nbsp;if&nbsp;I&nbsp;can&nbsp;help&nbsp;further&nbsp;:)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers&nbsp;Grail&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;Date:&nbsp;Sun,&nbsp;28&nbsp;Feb&nbsp;2010&nbsp;22:04:12&nbsp;+0100&lt;br&gt;&amp;gt;&nbsp;From:&nbsp;christoph.tapler@gmx.net&lt;br&gt;&amp;gt;&nbsp;To:&nbsp;pycrypto@lists.dlitz.net&lt;br&gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[pycrypto]&nbsp;FW:&nbsp;python&nbsp;crypto&nbsp;with&nbsp;python&nbsp;3.0&nbsp;or&nbsp;3.1&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Hi&nbsp;Grail,&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Thanks&nbsp;for&nbsp;your&nbsp;patch!&nbsp;I&nbsp;assume&nbsp;you&nbsp;generated&nbsp;the&nbsp;patch&nbsp;based&nbsp;on&nbsp;a&nbsp;Unix&lt;br&gt;&amp;gt;&nbsp;environment.&nbsp;Tried&nbsp;to&nbsp;compile&nbsp;pycrypto&nbsp;together&nbsp;with&nbsp;your&nbsp;patch&nbsp;on&nbsp;my&lt;br&gt;&amp;gt;&nbsp;Windows&nbsp;machine.&nbsp;However,&nbsp;it&nbsp;did&nbsp;not&nbsp;work&nbsp;out.&lt;br&gt;&amp;gt;&nbsp;After&nbsp;fixing&nbsp;two&nbsp;straightforward&nbsp;errors&nbsp;in&nbsp;setup.py&nbsp;(relevant&nbsp;to&nbsp;Windows&nbsp;&lt;br&gt;&amp;gt;&nbsp;only,&lt;br&gt;&amp;gt;&nbsp;see&nbsp;[1],&nbsp;[2]),&nbsp;I&nbsp;got&nbsp;stuck&nbsp;when&nbsp;linking&nbsp;the&nbsp;module&nbsp;MD4&nbsp;and&nbsp;other&nbsp;hashing&nbsp;&lt;br&gt;&amp;gt;&nbsp;methods&lt;br&gt;&amp;gt;&nbsp;(MD2,&nbsp;etc).&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Now,&nbsp;when&nbsp;I&nbsp;compare&nbsp;the&nbsp;build&nbsp;process&nbsp;against&nbsp;Python&nbsp;2,&nbsp;I&nbsp;see&nbsp;the&nbsp;following&lt;br&gt;&amp;gt;&nbsp;difference:&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;###############################################################################&lt;br&gt;&amp;gt;&nbsp;[Python&nbsp;2:]&lt;br&gt;&amp;gt;&nbsp;C:\Program&nbsp;Files\Microsoft&nbsp;Visual&nbsp;Studio&nbsp;9.0\VC\BIN\link.exe&nbsp;/DLL&nbsp;&lt;br&gt;&amp;gt;&nbsp;/nologo&nbsp;/INCRE&lt;br&gt;&amp;gt;&nbsp;MENTAL:NO&nbsp;&quot;/LIBPATH:C:\Program&nbsp;Files\Python26\libs&quot;&nbsp;&quot;/LIBPATH:C:\Program&nbsp;&lt;br&gt;&amp;gt;&nbsp;Files\P&lt;br&gt;&amp;gt;&nbsp;ython26\PCbuild&quot;&nbsp;/EXPORT:initMD4&nbsp;&lt;br&gt;&amp;gt;&nbsp;build\temp.win32-2.6\Release\src/MD4.obj&nbsp;/OUT:b&lt;br&gt;&amp;gt;&nbsp;uild\lib.win32-2.6\Crypto\Hash\MD4.pyd&nbsp;&lt;br&gt;&amp;gt;&nbsp;/IMPLIB:build\temp.win32-2.6\Release\src\&lt;br&gt;&amp;gt;&nbsp;MD4.lib&nbsp;/MANIFESTFILE:build\temp.win32-2.6\Release\src\MD4.pyd.manifest&lt;br&gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creating&nbsp;library&nbsp;build\temp.win32-2.6\Release\src\MD4.lib&nbsp;and&nbsp;object&nbsp;&lt;br&gt;&amp;gt;&nbsp;build\te&lt;br&gt;&amp;gt;&nbsp;mp.win32-2.6\Release\src\MD4.exp&lt;br&gt;&amp;gt;&nbsp;C:\Program&nbsp;Files\Microsoft&nbsp;SDKs\Windows\v6.0A\bin\mt.exe&nbsp;-nologo&nbsp;&lt;br&gt;&amp;gt;&nbsp;-manifest&nbsp;build&lt;br&gt;&amp;gt;&nbsp;\temp.win32-2.6\Release\src\MD4.pyd.manifest&nbsp;&lt;br&gt;&amp;gt;&nbsp;-outputresource:build\lib.win32-2.6&lt;br&gt;&amp;gt;&nbsp;\Crypto\Hash\MD4.pyd;2&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;[Python&nbsp;3:]&lt;br&gt;&amp;gt;&nbsp;C:\Program&nbsp;Files\Microsoft&nbsp;Visual&nbsp;Studio&nbsp;9.0\VC\BIN\link.exe&nbsp;/DLL&nbsp;&lt;br&gt;&amp;gt;&nbsp;/nologo&nbsp;/INCRE&lt;br&gt;&amp;gt;&nbsp;MENTAL:NO&nbsp;&quot;/LIBPATH:C:\Program&nbsp;Files\Python31\libs&quot;&nbsp;&quot;/LIBPATH:C:\Program&nbsp;&lt;br&gt;&amp;gt;&nbsp;Files\P&lt;br&gt;&amp;gt;&nbsp;ython31\PCbuild&quot;&nbsp;/EXPORT:PyInit_MD4&nbsp;&lt;br&gt;&amp;gt;&nbsp;build\temp.win32-3.1\Release\src/MD4.obj&nbsp;/OU&lt;br&gt;&amp;gt;&nbsp;T:build\lib.win32-3.1\Crypto\Hash\MD4.pyd&nbsp;&lt;br&gt;&amp;gt;&nbsp;/IMPLIB:build\temp.win32-3.1\Release\s&lt;br&gt;&amp;gt;&nbsp;rc\MD4.lib&nbsp;/MANIFESTFILE:build\temp.win32-3.1\Release\src\MD4.pyd.manifest&lt;br&gt;&amp;gt;&nbsp;LINK&nbsp;:&nbsp;error&nbsp;LNK2001:&nbsp;unresolved&nbsp;external&nbsp;symbol&nbsp;PyInit_MD4&lt;br&gt;&amp;gt;&nbsp;build\temp.win32-3.1\Release\src\MD4.lib&nbsp;:&nbsp;fatal&nbsp;error&nbsp;LNK1120:&nbsp;1&nbsp;&lt;br&gt;&amp;gt;&nbsp;unresolved&nbsp;ext&lt;br&gt;&amp;gt;&nbsp;ernals&lt;br&gt;&amp;gt;&nbsp;error:&nbsp;command&nbsp;'&quot;C:\Program&nbsp;Files\Microsoft&nbsp;Visual&nbsp;Studio&nbsp;&lt;br&gt;&amp;gt;&nbsp;9.0\VC\BIN\link.exe&quot;'&lt;br&gt;&amp;gt;&nbsp;failed&nbsp;with&nbsp;exit&nbsp;status&nbsp;1120&lt;br&gt;&amp;gt;&nbsp;###############################################################################&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;It&nbsp;seems&nbsp;that&nbsp;the&nbsp;/EXPORT&nbsp;argument&nbsp;for&nbsp;the&nbsp;Windows&nbsp;Linker&nbsp;is&nbsp;assembled&nbsp;in&nbsp;a&lt;br&gt;&amp;gt;&nbsp;different&nbsp;way.&nbsp;This&nbsp;leads&nbsp;to&nbsp;an&nbsp;export&nbsp;name,&nbsp;which&nbsp;does&nbsp;not&nbsp;exist&nbsp;as&nbsp;&lt;br&gt;&amp;gt;&nbsp;function.&lt;br&gt;&amp;gt;&nbsp;Hence&nbsp;the&nbsp;linker&nbsp;terminates&nbsp;with&nbsp;an&nbsp;error.&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Any&nbsp;idea&nbsp;what&nbsp;I&nbsp;need&nbsp;to&nbsp;change&nbsp;to&nbsp;get&nbsp;the&nbsp;/EXPORT&nbsp;name&nbsp;fixed?&nbsp;Is&nbsp;this&nbsp;&lt;br&gt;&amp;gt;&nbsp;problem&lt;br&gt;&amp;gt;&nbsp;located&nbsp;in&nbsp;pycrypto&nbsp;or&nbsp;in&nbsp;the&nbsp;Python&nbsp;distutils?&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;#####&nbsp;Regarding&nbsp;the&nbsp;changes&nbsp;in&nbsp;setup.py:&lt;br&gt;&amp;gt;&nbsp;[1]&nbsp;Changed&nbsp;the&nbsp;following&nbsp;stmt:&lt;br&gt;&amp;gt;&nbsp;From&lt;br&gt;&amp;gt;&nbsp;print&nbsp;&amp;lt;&amp;lt;&nbsp;sys.stderr&nbsp;&quot;warning:&nbsp;GMP&nbsp;library&nbsp;not&nbsp;found;&nbsp;Not&nbsp;building&nbsp;&lt;br&gt;&amp;gt;&nbsp;Crypto.PublicKey._fastmath.&quot;&lt;br&gt;&amp;gt;&nbsp;to&lt;br&gt;&amp;gt;&nbsp;print(&quot;warning:&nbsp;GMP&nbsp;library&nbsp;not&nbsp;found;&nbsp;Not&nbsp;building&nbsp;&lt;br&gt;&amp;gt;&nbsp;Crypto.PublicKey._fastmath.&quot;,&nbsp;sys.stderr)&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;[2]&nbsp;(Temporarily)&nbsp;disabled&nbsp;winrand.c&nbsp;which&nbsp;is&nbsp;included&nbsp;when&nbsp;using&nbsp;the&nbsp;&lt;br&gt;&amp;gt;&nbsp;Windows&nbsp;platform.&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Cheers,&nbsp;Christoph&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;pycrypto&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;pycrypto@lists.dlitz.net&lt;br&gt;&amp;gt;&nbsp;http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto&lt;br&gt;&lt;div&nbsp;style=&quot;z-index:&nbsp;-1;&nbsp;position:absolute;&nbsp;top:0px;&nbsp;left:&nbsp;0px;&nbsp;width:&nbsp;100%;&nbsp;height:&nbsp;1414px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;Get&nbsp;straight&nbsp;to&nbsp;the&nbsp;Point&nbsp;&lt;a&nbsp;href='http://clk.atdmt.com/NMN/go/157637060/direct/01/'&nbsp;target='_new'&gt;Find&nbsp;a&nbsp;great&nbsp;deal&nbsp;on&nbsp;your&nbsp;next&nbsp;car.&lt;/a&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
