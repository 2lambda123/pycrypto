<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Hi&nbsp;Grail!&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;think&nbsp;in&nbsp;you&nbsp;need&nbsp;to&nbsp;return&nbsp;the&nbsp;pointer&nbsp;from&nbsp;the&nbsp;newly&nbsp;created<br>
module.&nbsp;Currently&nbsp;the&nbsp;return&nbsp;value&nbsp;seems&nbsp;to&nbsp;be&nbsp;a&nbsp;dangling&nbsp;pointer.&lt;br&gt;<br>
A&nbsp;&quot;return&nbsp;m&quot;&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;generic&nbsp;init&nbsp;function&nbsp;in<br>
block_template.c&nbsp;may&nbsp;help.&lt;br&gt;<br>
&lt;br&gt;<br>
Btw,&nbsp;in&nbsp;Windows,&nbsp;there&nbsp;are&nbsp;still&nbsp;a&nbsp;few&nbsp;issues&nbsp;which&nbsp;prevent&nbsp;successful<br>
compilation.&nbsp;&lt;br&gt;<br>
Should&nbsp;I&nbsp;generate&nbsp;a&nbsp;patch?&nbsp;If&nbsp;yes,&nbsp;could&nbsp;you&nbsp;probably&nbsp;give&nbsp;me&nbsp;a&nbsp;hint<br>
how&nbsp;to&nbsp;generate&nbsp;this&nbsp;patch?&lt;br&gt;<br>
&lt;br&gt;<br>
Btw,&nbsp;there&nbsp;seems&nbsp;to&nbsp;be&nbsp;a&nbsp;test&nbsp;suite&nbsp;included&nbsp;(python&nbsp;setup.py&nbsp;test).<br>
However,&nbsp;at&nbsp;that&nbsp;stage&nbsp;it&nbsp;is&nbsp;not&nbsp;too&nbsp;much&nbsp;of&nbsp;&lt;br&gt;<br>
help,&nbsp;because&nbsp;the&nbsp;test&nbsp;suite&nbsp;itself&nbsp;needs&nbsp;to&nbsp;be&nbsp;adapted&nbsp;as&nbsp;well.&nbsp;In<br>
Python&nbsp;2&nbsp;the&nbsp;test&nbsp;suite&nbsp;works&nbsp;perfectly&nbsp;fine.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
Christoph&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;01.03.2010&nbsp;01:02,&nbsp;Grail&nbsp;Dane&nbsp;wrote:<br>
&lt;blockquote&nbsp;cite=&quot;mid:SNT132-w2669B1935D0D65EE9F7B9FB13C0@phx.gbl&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Verdana<br>
}<br>
--&gt;&lt;/style&gt;Hello<br>
Christoph<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;I&nbsp;have&nbsp;made&nbsp;more&nbsp;head&nbsp;way&nbsp;since&nbsp;that&nbsp;one&nbsp;(and&nbsp;made&nbsp;a&nbsp;lot&nbsp;more<br>
changes).&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;I&nbsp;found&nbsp;that&nbsp;the&nbsp;module&nbsp;creation&nbsp;required&nbsp;a&nbsp;few&nbsp;more&nbsp;steps&nbsp;and&nbsp;I<br>
have&nbsp;come&nbsp;up&amp;nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;with&nbsp;two&nbsp;solutions&nbsp;(in&nbsp;attached&nbsp;patches):&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;1.&nbsp;First&nbsp;patch&nbsp;follows&nbsp;most&nbsp;of&nbsp;the&nbsp;online&nbsp;info&nbsp;I&nbsp;could&nbsp;find<br>
related&nbsp;to&amp;nbsp;PyModuleDef&nbsp;and&nbsp;the&nbsp;related&amp;nbsp;PyTypeObject.&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;This&nbsp;required&nbsp;that&nbsp;all&nbsp;tp_getattr&nbsp;functions&nbsp;be&nbsp;removed&nbsp;and<br>
set&nbsp;to&nbsp;0&nbsp;(zero)&nbsp;in&nbsp;the&amp;nbsp;PyTypeObject&nbsp;definition.&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;2.&nbsp;The&nbsp;second&nbsp;patch&nbsp;retained&nbsp;the&nbsp;already&nbsp;created&nbsp;tp_getattr<br>
functions.&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;With&nbsp;either&nbsp;applied&nbsp;I&nbsp;am&nbsp;able&nbsp;to&nbsp;compile&nbsp;but&nbsp;when&nbsp;running&nbsp;a&nbsp;test<br>
program&nbsp;with&nbsp;the&nbsp;following&nbsp;lines&nbsp;only:&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;#!/usr/bin/env&nbsp;python&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;from&nbsp;Crypto.Cipher&nbsp;import&nbsp;AES&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;import&nbsp;base64&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;import&nbsp;os&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;When&nbsp;run&nbsp;I&nbsp;receive&nbsp;the&nbsp;following&nbsp;error:&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&quot;./cypher.py&quot;,&nbsp;line&nbsp;3,&nbsp;in&nbsp;&amp;lt;module&amp;gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;from&nbsp;Crypto.Cipher&nbsp;import&nbsp;AES&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;SystemError:&nbsp;NULL&nbsp;result&nbsp;without&nbsp;error&nbsp;in&nbsp;PyObject_Call&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;So&nbsp;apply&nbsp;patches&nbsp;(and&nbsp;make&nbsp;necessary&nbsp;changes&nbsp;for&nbsp;Windows)&nbsp;and&nbsp;we<br>
will&nbsp;see&nbsp;if&nbsp;I&nbsp;can&nbsp;help&nbsp;further&nbsp;:)&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;div&gt;Cheers&nbsp;Grail&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;hr&gt;Get&nbsp;straight&nbsp;to&nbsp;the&nbsp;Point&nbsp;&lt;a&nbsp;moz-do-not-send=&quot;true&quot;<br>
&nbsp;href=&quot;http://clk.atdmt.com/NMN/go/157637060/direct/01/&quot;&gt;Find&nbsp;a&nbsp;great<br>
deal&nbsp;on&nbsp;your&nbsp;next&nbsp;car.&lt;/a&gt;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;hr&gt;&nbsp;Browse&nbsp;profiles&nbsp;for&nbsp;free!&nbsp;&lt;a&nbsp;moz-do-not-send=&quot;true&quot;<br>
&nbsp;href=&quot;http://clk.atdmt.com/NMN/go/150855801/direct/01/&quot;&nbsp;target=&quot;_new&quot;&gt;View<br>
photos&nbsp;of&nbsp;singles&nbsp;in&nbsp;your&nbsp;area.&lt;/a&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
&lt;fieldset&nbsp;class=&quot;mimeAttachmentHeader&quot;&gt;&lt;/fieldset&gt;<br>
_______________________________________________<br>
pycrypto&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:pycrypto@lists.dlitz.net&quot;&gt;pycrypto@lists.dlitz.net&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto&quot;&gt;http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto&lt;/a&gt;<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
