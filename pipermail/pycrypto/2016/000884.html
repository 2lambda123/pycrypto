<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [pycrypto] pycryptodome
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pycrypto%40lists.dlitz.net?Subject=Re%3A%20%5Bpycrypto%5D%20pycryptodome&In-Reply-To=%3C50529.24.7.58.3.1481204947.squirrel%40martin-wwwss5.ssl.supercp.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000883.html">
   <LINK REL="Next"  HREF="000885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[pycrypto] pycryptodome</H1>
    <B>Martin Falatic</B> 
    <A HREF="mailto:pycrypto%40lists.dlitz.net?Subject=Re%3A%20%5Bpycrypto%5D%20pycryptodome&In-Reply-To=%3C50529.24.7.58.3.1481204947.squirrel%40martin-wwwss5.ssl.supercp.com%3E"
       TITLE="[pycrypto] pycryptodome">martin at falatic.com
       </A><BR>
    <I>Thu Dec  8 13:49:07 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000883.html">[pycrypto] pycryptodome
</A></li>
        <LI>Next message: <A HREF="000885.html">[pycrypto] pycryptodome
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#884">[ date ]</a>
              <a href="thread.html#884">[ thread ]</a>
              <a href="subject.html#884">[ subject ]</a>
              <a href="author.html#884">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Followup: I ran the following tests - note that I did NOT have pycrypto
installed at any point in this process for either Python.

It's not necessary to install BOTH pycryptodome and pycryptodomex... this,
too, was simply for the sake of this test. Either pycryptodome instead of
pycrypto, or pycryptodomex and lots of code refactoring, will do the job.

# Installed Fedora 25 server in a VM, default options

# Logged in as admin user (or root)

sudo dnf install redhat-rpm-config gcc gmp python-devel python3-devel
# Fedora 25 already comes with python3.5
# `python-devel` above installs python2.7, which is desirable for this test


# Note: The following is for testing purposes - it's typically wise to
install packages locally lest you cause system-wide problems.

# Ignore `pip` version upgrade warnings

sudo pip3.5 install pycryptodome
sudo pip2.7 install pycryptodome

python2.7 -m Crypto.SelfTest
python3.5 -m Crypto.SelfTest

sudo pip3.5 install pycryptodomex
sudo pip2.7 install pycryptodomex

python2.7 -m Cryptodome.SelfTest
python3.5 -m Cryptodome.SelfTest

## All tests passed.

# Doublecheck:

pip3.5 list | grep pycrypt
#    pycryptodome (3.4.3)
#    pycryptodomex (3.4.3)

pip2.7 list | grep pycrypt
#    pycryptodome (3.4.3)
#    pycryptodomex (3.4.3)

# Note we do NOT see `pycrypto` anywhere!

 - Marty


On Thu, December 8, 2016 04:46, Martin Falatic wrote:
&gt;<i> When you run `pip2.7 list` (pretty sure that's what you need for python2,
</I>&gt;<i>  or `pip list` may be the defacto python2 pip on Fedora) and `pip3.5
</I>&gt;<i> list` (for python3), what are you seeing in the area of &quot;pycrypto*&quot; for
</I>&gt;<i> each of these? I'm hopeful that once you have the proper libs installed
</I>&gt;<i> for python3 via pip3.5 things should work better.
</I>&gt;<i>
</I>&gt;<i> Normally you'd use the pip variant for python3 (e.g., pip3.5) to install
</I>&gt;<i> packages for python3. Can you give that a look and retry?
</I>&gt;<i>
</I>&gt;<i> Note that I'm not an expert on pycryptodome - my understanding is that
</I>&gt;<i> pycryptodome can be used instead of pycrypto, and it seems to work fine on
</I>&gt;<i>  Windows (and I don't have reason to think it'd be any different on
</I>&gt;<i> Linux).
</I>&gt;<i> I have no experience with pycryptodomex currently. I have pycryptodome
</I>&gt;<i> installed on python 2.7 and 3.5 on my Windows box (and pycrypto NOT
</I>&gt;<i> installed on either) and the test you described ran fine for both.
</I>&gt;<i>
</I>&gt;<i> That said, if this continues, what version of Fedora are you running? I
</I>&gt;<i> can stand up a VM and see for myself.
</I>&gt;<i>
</I>&gt;<i> - M
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, December 8, 2016 01:44, Dave Pawson wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Additional information.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> pip install pycryptodomex Requirement already satisfied: pycryptodomex
</I>&gt;&gt;<i> in /usr/lib64/python2.7/site-packages
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yet...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> File &quot;/usr/lib64/python3.5/site-packages/Crypto/Cipher/blockalgo.py&quot;,
</I>&gt;&gt;<i> line 141, in __init__ self._cipher = factory.new(key, *args, **kwargs)
</I>&gt;&gt;<i> ValueError: IV must be 16 bytes long
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So (since I'm using python3) it's picking up the Crypto library from
</I>&gt;&gt;<i> python 3.5 and pip is installing it in python 2.7
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://pycryptodome.readthedocs.io/en/latest/src/installation.html#win">https://pycryptodome.readthedocs.io/en/latest/src/installation.html#win</A>
</I>&gt;&gt;<i> do ws-from-sources-python-3-5-and-newer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (aside. Yum no longer used in Fedora, just replace with dnf)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> python3 -m Cryptodome.Selftest /usr/bin/python3: Error while finding
</I>&gt;&gt;<i> spec for 'Cryptodome.Selftest' (ImportError: No module named
</I>&gt;&gt;<i> 'Cryptodome')
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> regards Dave
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 8 December 2016 at 09:20, Dave Pawson &lt;<A HREF="http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto">dave.pawson at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="https://pycryptodome.readthedocs.io/en/latest/src/installation.html">https://pycryptodome.readthedocs.io/en/latest/src/installation.html</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> python3 -m Cryptodome.SelfTest /usr/bin/python3: Error while finding
</I>&gt;&gt;&gt;<i> spec for 'Cryptodome.SelfTest' (ImportError: No module named
</I>&gt;&gt;&gt;<i> 'Cryptodome')
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="https://pycryptodome.readthedocs.io/en/latest/src/examples.html">https://pycryptodome.readthedocs.io/en/latest/src/examples.html</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> example
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> python3 exp1.py Traceback (most recent call last): File &quot;exp1.py&quot;,
</I>&gt;&gt;&gt;<i> line 12, in &lt;module&gt; cipher = AES.new(key, AES.MODE_EAX)
</I>&gt;&gt;&gt;<i> AttributeError: module
</I>&gt;&gt;&gt;<i> 'Crypto.Cipher.AES' has no attribute 'MODE_EAX'
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> which seems to be true
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> dir(AES) ['AESCipher', 'MODE_CBC', 'MODE_CFB', 'MODE_CTR',
</I>&gt;&gt;&gt;<i> 'MODE_ECB',
</I>&gt;&gt;&gt;<i> 'MODE_OFB', 'MODE_OPENPGP', 'MODE_PGP', '_AES', '__builtins__',
</I>&gt;&gt;&gt;<i> '__cached__', '__doc__', '__file__', '__loader__', '__name__',
</I>&gt;&gt;&gt;<i> '__package__', '__revision__', '__spec__', 'block_size', 'blockalgo',
</I>&gt;&gt;&gt;<i> 'key_size', 'new']
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Bugs in docs? Library?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Suggestions please.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> regards
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Dave Pawson
</I>&gt;&gt;&gt;<i> XSLT XSL-FO FAQ.
</I>&gt;&gt;&gt;<i> Docbook FAQ.
</I>&gt;&gt;&gt;<i> <A HREF="http://www.dpawson.co.uk">http://www.dpawson.co.uk</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Dave Pawson
</I>&gt;&gt;<i> XSLT XSL-FO FAQ.
</I>&gt;&gt;<i> Docbook FAQ.
</I>&gt;&gt;<i> <A HREF="http://www.dpawson.co.uk">http://www.dpawson.co.uk</A>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> pycrypto mailing list <A HREF="http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto">pycrypto at lists.dlitz.net</A>
</I>&gt;&gt;<i> <A HREF="http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto">http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> pycrypto mailing list <A HREF="http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto">pycrypto at lists.dlitz.net</A>
</I>&gt;<i> <A HREF="http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto">http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000883.html">[pycrypto] pycryptodome
</A></li>
	<LI>Next message: <A HREF="000885.html">[pycrypto] pycryptodome
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#884">[ date ]</a>
              <a href="thread.html#884">[ thread ]</a>
              <a href="subject.html#884">[ subject ]</a>
              <a href="author.html#884">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto">More information about the pycrypto
mailing list</a><br>
</body></html>
