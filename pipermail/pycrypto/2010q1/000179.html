<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [pycrypto] python crypto with python 3.0 or 3.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pycrypto%40lists.dlitz.net?Subject=%5Bpycrypto%5D%20python%20crypto%20with%20python%203.0%20or%203.1&In-Reply-To=SNT132-w24BDC6C45D4D6EB8912BB7B16A0%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000178.html">
   <LINK REL="Next"  HREF="000180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[pycrypto] python crypto with python 3.0 or 3.1</H1>
    <B>don at amberfisharts.com</B> 
    <A HREF="mailto:pycrypto%40lists.dlitz.net?Subject=%5Bpycrypto%5D%20python%20crypto%20with%20python%203.0%20or%203.1&In-Reply-To=SNT132-w24BDC6C45D4D6EB8912BB7B16A0%40phx.gbl"
       TITLE="[pycrypto] python crypto with python 3.0 or 3.1">don at amberfisharts.com
       </A><BR>
    <I>Thu Jan 14 03:07:36 CST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000178.html">[pycrypto] python crypto with python 3.0 or 3.1
</A></li>
        <LI>Next message: <A HREF="000180.html">[pycrypto] python crypto with python 3.0 or 3.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#179">[ date ]</a>
              <a href="thread.html#179">[ thread ]</a>
              <a href="subject.html#179">[ subject ]</a>
              <a href="author.html#179">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

as far as I know there hasn't been a move to port pyCrypto to python 3.x
so simply compiling against python 3.x is bound to fail!
If you try to port yourself and during that effort ran into this compiler 
error then if you look at the documentation [1] or this blog post [2]
(it's
a bit outdated since the docs have been fixed in the meantime) you will
see
that the first few lines (besides other things) of a python extension type
have
changed from 
 
  PyObject_HEAD_INIT(NULL)
  0,                   /* ob_size */
  &quot;myTypeName&quot;,        /* tp_name */

to

  PyVarObject_HEAD_INIT(NULL, 0)
  &quot;myTypeName&quot;,        /* tp_name */

If I recall correctly, the ob_size has be moved to a different structure
and no longer
is a member of PyTypeObject.
So to sum it up:
 * no porting effort exist so far, AFAIK
 * no, the error is not bogus

sincerely yours
//Lorenz

[1] <A HREF="http://docs.python.org/dev/py3k/extending/newtypes.html">http://docs.python.org/dev/py3k/extending/newtypes.html</A>
[2]
<A HREF="http://rhodesmill.org/brandon/2008/porting-a-c-extension-module-to-python-30/">http://rhodesmill.org/brandon/2008/porting-a-c-extension-module-to-python-30/</A>



On Thu, 14 Jan 2010 07:52:59 +0000, Grail Dane &lt;<A HREF="http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto">grail69 at hotmail.com</A>&gt;
wrote:
&gt;<i> Hi GuysI am new to the list but have recently run into this issue.Has
</I>&gt;<i> there been any movement?Personally I am stuck when gcc tries to compile
</I>&gt;<i> src/_fastmath.cwhich seems to die with an error about 'ob_size' member
</I>not
&gt;<i> existing :(This seems to be bogus as I traced back the struct's to
</I>include
&gt;<i> PyObject_VAR_HEADwhich does have this as member.Any further help on this
</I>&gt;<i> would be appreciated ;)Cheers Grail&gt;On Fri, Dec 04, 2009 at 11:44:00AM
</I>&gt;<i> +0100, Tobias Koeck wrote:&gt;&gt;Is it possible to run python crypto with
</I>python
&gt;<i> 3.0 or 3.1. If not is 
</I>&gt;&gt;&gt;<i>it planed to adjust?
</I>&gt;<i> 
</I>&gt;&gt;<i>Sure, and it'll happen sooner if somebody volunteers to do it. :-)
</I>&gt;<i> 
</I>&gt;&gt;<i>There will need to be be some strategy for Python 2.x compatibility, and
</I>
&gt;&gt;<i>the contributor(s) need to to meet the PyCrypto Code Submission 
</I>&gt;&gt;<i>Requirements:
</I>&gt;<i> 
</I>&gt;&gt;<i><A HREF="http://www.dlitz.net/software/pycrypto/submission-requirements/">http://www.dlitz.net/software/pycrypto/submission-requirements/</A>
</I>&gt;<i> 
</I>&gt;&gt;<i>-- 
</I>&gt;&gt;<i>Dwayne C. Litzenberger &lt;dlitz at dlitz.net&gt;
</I>&gt;&gt;<i>  Key-signing key   - 19E1 1FE8 B3CF F273 ED17  4A24 928C EC13 39C2 5CF7
</I>&gt;&gt;<i>  Annual key (2009) - C805 1746 397B 0202 2758  2821 58E0 894B 81D2 582E
</I>&gt;&gt;<i>
</I>&gt;<i> _________________________________________________________________
</I>&gt;<i> View photos of singles in your area! Browse profiles for FREE
</I>&gt;<i> <A HREF="http://clk.atdmt.com/NMN/go/150855801/direct/01/">http://clk.atdmt.com/NMN/go/150855801/direct/01/</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000178.html">[pycrypto] python crypto with python 3.0 or 3.1
</A></li>
	<LI>Next message: <A HREF="000180.html">[pycrypto] python crypto with python 3.0 or 3.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#179">[ date ]</a>
              <a href="thread.html#179">[ thread ]</a>
              <a href="subject.html#179">[ subject ]</a>
              <a href="author.html#179">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dlitz.net/cgi-bin/mailman/listinfo/pycrypto">More information about the pycrypto
mailing list</a><br>
</body></html>
